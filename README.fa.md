 ๐ฅ ูุฏุฑ ูุงุฑูุงู ุงุฑุงู

## [Click to view the English version](README.md)

ฺฉ **ุงุณฺฉุฑูพุช ุงูู ู ุชุนุงูู Bash** ุจุฑุง ุงูุฒุงุด ุงููุช ุณุฑูุฑูุง ุงุฑุงู ุงุฒ ุทุฑู ฺฉูุชุฑู ุฏูู ุขโูพโูุง ู ูพูุฑุชโูุง ูุฌุงุฒ โ ุงุฏูโุขู ุจุฑุง ุณุชุงูพโูุง ุชููููฺฏ.

> โ ุทุฑุงุญโุดุฏู ุจุฑุง ุชูููโูุง ูุงููุฏ **Rathole v2**ุ **Backhaul**ุ **Xray** ุง ุณุณุชูโูุง ูพุฑุงฺฉุณ ุฎุตูุต.


## ๐ก๏ธ ูฺฺฏโูุง ฺฉูุฏ

* โ ูุณุฏูุฏุณุงุฒ ุชูุงู ุชุฑุงูฺฉ ูุฑูุฏ ู ุฎุฑูุฌ ุจูโุตูุฑุช ูพุดโูุฑุถ
* ๐ ุงุฌุงุฒู ุฏุณุชุฑุณ ููุท ุจู ุขโูพ ุณุฑูุฑ ุฎุงุฑุฌ (ุบุฑ ุงุฑุงู) ู ูพูุฑุชโูุง ูุดุฎุตโุดุฏู
* ๐ ุบุฑูุนุงูโุณุงุฒ Ping (ICMP) ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุดูุงุณุง
* ๐พ ุฐุฎุฑู ุฎูุฏฺฉุงุฑ ููุงูู ูุงุฑูุงู ุจุง `iptables-persistent`
* ๐ ุงูฺฉุงู **ุฑุณุช ฺฉุงูู** ู ุจุงุฒฺฏุฑุฏุงู ูุงุฑูุงู ุจู ุญุงูุช ุจุงุฒ
* ๐ฑ ููู ุชุนุงูู ุจุง ุงููุฌ โ ุจุฏูู ูุงุฒ ุจู ูุฑุงุด ุฏุณุช
* ๐ ูพุดุชุจุงู ุงุฒ ููุงูู **TCP / UDP / ูุฑุฏู**
* ๐ง ุงุฏุขูุฑ ุขุฎุฑู ุชูุธูุงุช (IP ู ูพูุฑุชโูุง)
* ๐งช ุชุณุช ุงุชุตุงู ุขโูพ ุฎุงุฑุฌ ุจุง **Ping Check**
* ๐ ููุงุด ูพูุฑุชโูุง ุจุงุฒ ู ุขโูพโูุง ูุฌุงุฒ
* โ ุจุฏูู ูุงุฒ ุจู ูุงุฑุฏ ฺฉุฑุฏู ุฏุณุช ุฏุณุชูุฑุงุช iptables


## ๐ ุงุฌุฑุง ุณุฑุน ุจุง ฺฉ ุฎุท ูุฑูุงู

ุจุฑุง ูุตุจ ู ุงุฌุฑุง ุขุฎุฑู ูุณุฎูโ ุชููุชโุดุฏู (v2):

```bash
bash <(curl -Ls https://raw.githubusercontent.com/power0matin/Iran-Firewall-Manager/main/firewall-manager-v2.sh)
```

> โ **ูพุดููุงุฏ ูโุดูุฏ:** ุงู ูุณุฎู ุดุงูู ูพุดุชุจุงู ุงุฒ UDPุ ุชุณุช ุงุชุตุงูุ ุฐุฎุฑู ุชูุธูุงุช ู ููุงุด ูพูุฑุชโูุง ุงุณุช.

### ๐งช ูุณุฎู ุณุงุฏูโุชุฑ (v1)

ุจุฑุง ุงุฌุฑุง ูุณุฎูโ ุงููู ู ุณุงุฏูโุชุฑ:

```bash
bash <(curl -Ls https://raw.githubusercontent.com/power0matin/Iran-Firewall-Manager/main/firewall-manager.sh)
```

> โ๏ธ ุชูุฌู: ุงู ูุณุฎู ูุงูุฏ ููู ูพุดุฑูุชูุ ุฐุฎุฑู ุชูุธูุงุช ู ูุงุจูุชโูุง ุฌุงูุจ ุงุณุช.


## ๐ฆ ููููู ุฎุฑูุฌ

```bash
[*] Installing iptables-persistent...
[*] Flushing existing firewall rules...
[*] Allowing localhost traffic...
[*] Allowing SSH on port 22...
[*] Applying rules for IP 1.2.3.4 and allowed ports...
  - Allowing TCP port 443 from 1.2.3.4
  - Allowing UDP port 443 from 1.2.3.4
[*] Setting default policy to DROP...
[*] Disabling ICMP echo (ping)...
[*] Saving iptables rules...
[โ] Firewall rules applied successfully.
```


## ๐ ููู ุจุฑูุงูู

```
====== Firewall Management Menu ======
1) Apply secure firewall restrictions
2) Reset firewall to open state
3) Show currently open ports
4) Enable secure mode (allow only selected IP and ports)
0) Exit
```


## โ๏ธ ูุดุฏุงุฑูุง

> ๐ **ุจุง ุฏูุช ุขโูพ ุฑุง ูุงุฑุฏ ฺฉูุฏ!**
> ูุงุฑุฏ ฺฉุฑุฏู ุขโูพ ุงุดุชุจุงู ูโุชูุงูุฏ ุจุงุนุซ ููู ุดุฏู ุฏุณุชุฑุณ SSH ุดูุง ุดูุฏ.
> ูพุด ุงุฒ ุงุนูุงู ููุงููุ ุงุชุตุงู ุชููู ุฑุง ุชุณุช ฺฉูุฏ.

> ๐ง **ุฏุฑ ุตูุฑุช ูุงุฒ ุจู ูพูุฑุชโูุง ุณุณุชู ูุงููุฏ DNS ุง NTP** ูโุชูุงูุฏ ุขูโูุง ุฑุง ูุจู ุงุฒ ุฐุฎุฑู ุจูโุตูุฑุช ุฏุณุช ุงุถุงูู ฺฉูุฏ:

```bash
iptables -A OUTPUT -p udp --dport 53 -j ACCEPT  # DNS
iptables -A OUTPUT -p udp --dport 123 -j ACCEPT # NTP
```

> ๐ก ุฏุฑ ุญุงูุช ุชุนุงูู ูโุชูุงูุฏ ุจู `TCP`ุ `UDP` ุง `ูุฑุฏู` ุงูุชุฎุงุจ ฺฉูุฏ.


## ๐งฑ ููุดู ุฑุงู ุชูุณุนู

| ูุงุฒ          | ูุถุนุช           | ๐ง ูุงุจูุชโูุง ุจุฑูุงููโุฑุฒโุดุฏู                                                    | โ ุชูุถุญุงุช                                             |
| ------------ | --------------- | -------------------------------------------------------------------------------- | ----------------------------------------------------- |
| ๐ข **ูุงุฒ 1** | โ ุงูุฌุงู ุดุฏู     | ๐ ููุงูู ุงููู TCP<br>๐ ุณูุฏ ฺฉุฑุฏู ุขโูพ<br>๐ซ ุจูุงฺฉ ููู ุจูโุตูุฑุช ูพุดโูุฑุถ         | ุณุงุฎุชุงุฑ ูพุงู ุจุง iptables ู ููู ุณุงุฏู                   |
| ๐ก **ูุงุฒ 2** | ๐ ุฏุฑ ุญุงู ุงูุฌุงู | ๐ฑ ููู ูพุดุฑูุชู<br>๐ฆ ูพุดุชุจุงู ุงุฒ UDP<br>๐ง ุงุฏุขูุฑ ุชูุธูุงุช<br>๐ฅ๏ธ ููุงุด ูพูุฑุชโูุง | ุญุงูุช Secureุ ุฐุฎุฑู ูุงู ุชูุธูุงุชุ UX ุจูุชุฑ              |
| ๐ **ูุงุฒ 3** | ๐ ุขูุฏู ูุฒุฏฺฉ  | โฑ๏ธ ุจุงุฒฺฏุฑุฏุงู ุฎูุฏฺฉุงุฑ<br>๐งช ูพุฑููุงูโูุง<br>๐ ุญุงูุช ุดุจ/ุฑูุฒ                           | ุฌููฺฏุฑ ุงุฒ ููู ุดุฏูุ ูพุฑููุงู ุชูุธูุงุชุ ููุงูู ุฒูุงูโูุญูุฑ |
| ๐ต **ูุงุฒ 4** | โณ ุจุฑูุงููโุฑุฒ   | ๐ ูุณุฏูุฏุณุงุฒ GeoIP<br>๐ ุฒูุงูโุจูุฏ ุฎูุฏฺฉุงุฑ<br>๐ฌ ููู ฺูุฏุฒุจุงูู                    | GeoIPุ ุงุชููุงุณูู ุฒูุงูโุจูุฏุ ูพุดุชุจุงู EN/FA            |
| ๐ฃ **ูุงุฒ 5** | ๐ง ูพุดุฑูุชู      | ๐ ูุงูุชูุฑ ุชุฑุงูฺฉ<br>๐จ ูุดุฏุงุฑ ุชูฺฏุฑุงู<br>๐ฅ ูุงฺฏ ุฎุงุฑุฌ                             | ูุงูุชูุฑ ูุญุธูโุง ู ูุดุฏุงุฑ ูููุฐ                          |
| ๐ค **ูุงุฒ 6** | ๐งช ุขุฒูุงุด      | ๐ณ ูุงุฑูุงู Docker-aware<br>๐ ุฑุงุจุท API<br>๐ฅ ูุงฺฏ ฺูุฏฺฉุงุฑุจุฑู                       | ูพุดุชุจุงู ุฏุงฺฉุฑุ ฺฉูุชุฑู ุงุฒ ุฑุงู ุฏูุฑ ู ูุงฺฏ ุงุฏููโูุง        |

๐ง **ูุงุฒ ูุนู:** `ูุงุฒ 2` โ ุชูุฑฺฉุฒ ุจุฑ ููู ุชุนุงููุ ูพุดุชุจุงู UDP ู ุฐุฎุฑู ุชูุธูุงุช
๐ **ูุฑุญูู ุจุนุฏ:** ุจุงุฒฺฏุฑุฏุงู ุฎูุฏฺฉุงุฑ ู ูพุฑููุงูโูุง ุชูุธูุงุช ุฏุฑ ูุงุฒ 3

๐ ุงฺฏุฑ ูพุดููุงุฏ ุฏุงุฑุฏุ [Issue](https://github.com/power0matin/Iran-Firewall-Manager/issues) ุจุงุฒ ฺฉูุฏ.


## โ๏ธ ูพุดโูุงุฒูุง

* โ ุณุณุชูโุนุงูู Ubuntu ุง Debian
* ๐งโ๐ป ุฏุณุชุฑุณ ุฑูุช
* ๐ฆ ูพฺฉุฌโูุง `iptables` ู `iptables-persistent` (ูุตุจ ุฎูุฏฺฉุงุฑ)


## โ ุชุณุชโุดุฏู ุฑู

* Ubuntu 20.04 / 22.04
* Debian 11 / 12
* VPSูุง KVMุ NATุ OpenVZ (ููุท IPv4)


## ๐ ูุฌูุฒ

[ูุฌูุฒ MIT](LICENSE) โ ุฑุงฺฏุงู ุจุฑุง ุงุณุชูุงุฏู ุดุฎุตุ ุขููุฒุด ู ุชุฌุงุฑ.


## โจ ุณุงุฒูุฏู

ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุชูุณุท [**power0matin**](https://github.com/power0matin)
โญ ุงฺฏุฑ ุงู ูพุฑูฺู ุจุฑุงุชูู ููุฏ ุจูุฏุ ูุทูุงู ุฑูพู ุฑุง **ุณุชุงุฑู** ฺฉูุฏ ู ุจุง ุฏฺฏุฑุงู ุจู ุงุดุชุฑุงฺฉ ุจฺฏุฐุงุฑุฏ ๐


docs(readme-fa): improve Farsi README formatting and structure
```
